<div class="container container-fluid">
    <ng-container>
        <div class="map-container d-flex">
            <div class="me-2">
                <div class="accordion" id="accordionFlushExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="flush-headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                                Search a location
                        </button>
                        </h2>
                        <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                            <div class="accordion-body">
                                <form class="d-flex " [formGroup]="arenaForm" (ngSubmit)="onSubmit()">
                                    <select class="custom-select col-md-9 me-2" formControlName="id">
                                        <option value="">Choose a your Arena</option>
                                        <option *ngFor="let arena of arenas" [ngValue]="arena.id">{{arena.name}}</option>
                                    </select>
                                    <button type="submit" class="btn btn-secondary col-md-3">Find</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="flush-headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                                Create a new location
                        </button>
                        </h2>
                        <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                            <div class="accordion-body">
                                <form>
                                    <div class="form-group row mb-2">
                                        <label class="col-md-3 col-form-label"><strong>Lon:</strong> </label>
                                        <div class="col-md-9">
                                            <input type="text" class="form-control" id="inputLon" placeholder="Longitude" value={{longitude}}>
                                        </div>
                                    </div>
                                    <div class="form-group row mb-2">
                                        <label class="col-md-3 col-form-label"><strong>Lat:</strong> </label>
                                        <div class="col-md-9">
                                            <input type="text" class="form-control" id="inputLat" placeholder="Latitude" value={{latitude}}>
                                        </div>
                                    </div>
                                    <div class="form-group row mb-2">
                                        <label class="col-md-3 col-form-label"><strong>Name:</strong></label>
                                        <div class="col-md-9">
                                            <input class="form-control" id="inputName" placeholder="Input a name to add" (change)="onChangeEvent($event)" value={{name}}>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <button (click)="addNewLocation() " class="btn btn-secondary ">Add</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="flush-headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                                Delete a location
                        </button>
                        </h2>
                        <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                            <div class="accordion-body">
                                <form class="d-flex " [formGroup]="arenaForm" (ngSubmit)="onSubmit()">
                                    <select class="custom-select col-md-9 me-2" formControlName="id">
                                        <option value="">Choose a your Arena</option>
                                        <option *ngFor="let arena of arenas" [ngValue]="arena.id">{{arena.name}}</option>
                                    </select>
                                    <button (click)="deleteLocation() " class="btn btn-secondary col-md-3">Delete</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="flush-headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                                Data conversion
                        </button>
                        </h2>
                        <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour" data-bs-parent="#accordionFlushExample">
                            <div class="accordion-body">
                                <form [formGroup]="convertForm">
                                    <div class="form-group row">
                                        <input type="file" class="form-control-file form-control-sm mb-2" (change)="uploadFile($event)">
                                    </div>
                                    <div class="form-group row">
                                        <select class="form-select mb-2" formControlName="format">
                                            <option value="shp">shp</option>
                                            <option value="geojson">geojson</option>
                                            <option value="csv">csv</option>
                                            <option value="dgn">dgn</option>
                                            <option value="dxf">dxf</option>
                                        </select>
                                        <div class="text-center">
                                            <button *ngIf="convertDone " class="btn btn-secondary " (click)="download() ">Download</button>
                                            <button *ngIf="convertDone==false " class="btn btn-secondary " (click)="covertToFile() ">Convert</button>
                                        </div>
                                    </div>
                                    <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                                        <span class="sr-only"></span>
                                    </div>
                                    <!-- <div class="container">
                                        <a href="http://localhost:8090/geo-api/v0.1/return-files/{{fileDownload}}" target="blank"><button class='btn btn-default'>Download</button></a>
                                    </div> -->
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="map-frame">
                <div id="map"></div>
            </div>
        </div>
    </ng-container>
</div>